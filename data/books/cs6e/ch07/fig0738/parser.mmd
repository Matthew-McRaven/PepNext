flowchart LR
  PS_START((Start)) -->|EMPTY| PS_START
  PS_START -->|SYMBOL| PS_SYMBOL((Symbol))
  PS_START -->|COMMENT| PS_COMMENT_ONLY((Comment<br/>Only))
  PS_COMMENT_ONLY -->|\n| PS_FINISH(((Finish)))
  PS_COMMENT -->|\n| PS_FINISH
  PS_SYMBOL-->|DOT|PS_UNARY_DOT
  PS_SYMBOL-->|IDENTIFIER| PS_INTR
  PS_START -->|DOT| PS_UNARY_DOT((Unary Dot<br/>Command))
  PS_UNARY_DOT -->|"`HEX|DEC|IDENT`"| PS_DOT((Nonunary Dot<br/>Command))
  PS_UNARY_DOT -->|COMMENT|PS_COMMENT((Comment))
  PS_UNARY_DOT -->|\n| PS_FINISH
  PS_DOT -->|\n| PS_FINISH
  PS_DOT -->|COMMENT|PS_COMMENT((Comment))
  PS_START -->|IDENTIFIER| PS_INTR((Unary<br/>Instruction))
  PS_INTR -->|\n| PS_FINISH
  PS_INTR -->|COMMENT|PS_COMMENT((Comment))
  %% If BR-type
  PS_INTR --> |"`HEX|DEC|IDENT`"| PS_ARG((Nonunary<br/>Instruction))
  PS_ARG -->|ADDR| PS_ADDR((Nonunary<br>Instruction))
  PS_ARG -->|\n| PS_FINISH
  PS_ARG -->|COMMENT|PS_COMMENT((Comment))
  %% If non-BR-type
  PS_ADDR -->|COMMENT|PS_COMMENT
  PS_ADDR -->|\n| PS_FINISH
  PS_ADDR -->|COMMENT|PS_COMMENT((Comment))